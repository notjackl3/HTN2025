{"ast":null,"code":"var _jsxFileName = \"/Users/notjackl3/Desktop/HTN2025/frontend/src/components/CameraView.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState, useEffect } from 'react';\nimport { seriousModeDetection, funModeDetection, completeQuest, placeBet, resolveBet } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CameraView = ({\n  mode,\n  onQuestComplete,\n  onBetPlaced\n}) => {\n  _s();\n  var _detectionResults$obj;\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const [stream, setStream] = useState(null);\n  const [isDetecting, setIsDetecting] = useState(false);\n  const [detectionResults, setDetectionResults] = useState(null);\n  const [error, setError] = useState(null);\n  const [boundingBoxes, setBoundingBoxes] = useState([]);\n  const [isRealTimeDetection, setIsRealTimeDetection] = useState(false);\n  const [detectionInterval, setDetectionInterval] = useState(null);\n  useEffect(() => {\n    startCamera();\n    return () => {\n      if (stream) {\n        stream.getTracks().forEach(track => track.stop());\n      }\n      if (detectionInterval) {\n        clearInterval(detectionInterval);\n      }\n    };\n  }, []);\n\n  // Redraw bounding boxes when video loads or resizes\n  useEffect(() => {\n    const video = videoRef.current;\n    if (video) {\n      const handleLoadedMetadata = () => {\n        if (detectionResults !== null && detectionResults !== void 0 && detectionResults.detections) {\n          setTimeout(() => drawBoundingBoxes(), 100);\n        }\n      };\n      video.addEventListener('loadedmetadata', handleLoadedMetadata);\n      return () => video.removeEventListener('loadedmetadata', handleLoadedMetadata);\n    }\n  }, [detectionResults]);\n\n  // Real-time detection effect\n  useEffect(() => {\n    if (isRealTimeDetection && stream) {\n      const interval = setInterval(() => {\n        performRealTimeDetection();\n      }, 1000); // Detect every second\n\n      setDetectionInterval(interval);\n      return () => {\n        if (interval) {\n          clearInterval(interval);\n        }\n      };\n    } else if (detectionInterval) {\n      clearInterval(detectionInterval);\n      setDetectionInterval(null);\n    }\n  }, [isRealTimeDetection, stream]);\n  const startCamera = async () => {\n    try {\n      const mediaStream = await navigator.mediaDevices.getUserMedia({\n        video: {\n          width: {\n            ideal: 1280\n          },\n          height: {\n            ideal: 720\n          },\n          facingMode: 'user'\n        }\n      });\n      setStream(mediaStream);\n      if (videoRef.current) {\n        videoRef.current.srcObject = mediaStream;\n        // Auto-start real-time detection after camera loads\n        setTimeout(() => {\n          setIsRealTimeDetection(true);\n        }, 2000);\n      }\n    } catch (err) {\n      setError('Camera access denied. Please allow camera access to use this feature.');\n      console.error('Camera error:', err);\n    }\n  };\n  const capturePhoto = () => {\n    if (!videoRef.current || !canvasRef.current) return null;\n    const video = videoRef.current;\n    const canvas = canvasRef.current;\n    const context = canvas.getContext('2d');\n    canvas.width = video.videoWidth;\n    canvas.height = video.videoHeight;\n    context.drawImage(video, 0, 0);\n    return new Promise(resolve => {\n      canvas.toBlob(resolve, 'image/jpeg', 0.8);\n    });\n  };\n  const performRealTimeDetection = async () => {\n    if (!videoRef.current || isDetecting) return;\n    try {\n      var _response$detections;\n      const photoBlob = await capturePhoto();\n      if (!photoBlob) return;\n      const formData = new FormData();\n      formData.append('file', photoBlob, 'photo.jpg');\n      let response;\n      if (mode === 'serious') {\n        response = await seriousModeDetection(formData);\n      } else {\n        response = await funModeDetection(formData);\n      }\n\n      // Filter detections with 80%+ confidence\n      const highConfidenceDetections = ((_response$detections = response.detections) === null || _response$detections === void 0 ? void 0 : _response$detections.filter(detection => detection.confidence >= 0.8)) || [];\n      if (highConfidenceDetections.length > 0) {\n        setBoundingBoxes(highConfidenceDetections);\n        setTimeout(() => drawBoundingBoxes(), 50);\n      } else {\n        // Clear boxes if no high confidence detections\n        setBoundingBoxes([]);\n        clearBoundingBoxes();\n      }\n    } catch (err) {\n      console.error('Real-time detection error:', err);\n    }\n  };\n  const clearBoundingBoxes = () => {\n    if (!canvasRef.current) return;\n    const canvas = canvasRef.current;\n    const context = canvas.getContext('2d');\n    context.clearRect(0, 0, canvas.width, canvas.height);\n  };\n  const drawBoundingBoxes = () => {\n    if (!videoRef.current || !boundingBoxes.length) return;\n    const video = videoRef.current;\n    const canvas = canvasRef.current;\n    const context = canvas.getContext('2d');\n\n    // Set canvas size to match video\n    canvas.width = video.videoWidth;\n    canvas.height = video.videoHeight;\n\n    // Clear previous drawings\n    context.clearRect(0, 0, canvas.width, canvas.height);\n\n    // Draw bounding boxes\n    boundingBoxes.forEach((detection, index) => {\n      const {\n        x,\n        y,\n        width,\n        height,\n        label,\n        confidence\n      } = detection;\n\n      // Calculate scale factors\n      const scaleX = video.videoWidth / video.clientWidth;\n      const scaleY = video.videoHeight / video.clientHeight;\n      const scaledX = x * scaleX;\n      const scaledY = y * scaleY;\n      const scaledWidth = width * scaleX;\n      const scaledHeight = height * scaleY;\n\n      // Draw rectangle with thicker border\n      context.strokeStyle = `hsl(${index * 137.5 % 360}, 80%, 60%)`;\n      context.lineWidth = 4;\n      context.strokeRect(scaledX, scaledY, scaledWidth, scaledHeight);\n\n      // Draw label background with better contrast\n      const labelText = `${label}: ${(confidence * 100).toFixed(0)}%`;\n      const textMetrics = context.measureText(labelText);\n      const textWidth = textMetrics.width;\n      const textHeight = 24;\n\n      // Background with border\n      context.fillStyle = `hsl(${index * 137.5 % 360}, 80%, 20%)`;\n      context.fillRect(scaledX, scaledY - textHeight - 2, textWidth + 12, textHeight + 4);\n\n      // Border\n      context.strokeStyle = `hsl(${index * 137.5 % 360}, 80%, 60%)`;\n      context.lineWidth = 2;\n      context.strokeRect(scaledX, scaledY - textHeight - 2, textWidth + 12, textHeight + 4);\n\n      // Draw label text\n      context.fillStyle = 'white';\n      context.font = 'bold 16px Arial';\n      context.fillText(labelText, scaledX + 6, scaledY - 6);\n    });\n  };\n  const handleDetection = async () => {\n    if (isDetecting) return;\n    setIsDetecting(true);\n    setError(null);\n    try {\n      const photoBlob = await capturePhoto();\n      if (!photoBlob) {\n        throw new Error('Failed to capture photo');\n      }\n      const formData = new FormData();\n      formData.append('file', photoBlob, 'photo.jpg');\n      let response;\n      if (mode === 'serious') {\n        response = await seriousModeDetection(formData);\n      } else {\n        response = await funModeDetection(formData);\n      }\n      setDetectionResults(response);\n\n      // Draw bounding boxes if detections exist\n      if (response.detections && response.detections.length > 0) {\n        setBoundingBoxes(response.detections);\n        setTimeout(() => drawBoundingBoxes(), 100);\n      }\n    } catch (err) {\n      setError(err.message || 'Detection failed. Please try again.');\n      console.error('Detection error:', err);\n    } finally {\n      setIsDetecting(false);\n    }\n  };\n  const handleQuestComplete = async questId => {\n    try {\n      const response = await completeQuest(questId);\n      onQuestComplete(questId);\n      setDetectionResults(prev => ({\n        ...prev,\n        message: response.message\n      }));\n    } catch (err) {\n      setError('Failed to complete quest. Please try again.');\n    }\n  };\n  const handleBetPlaced = async betData => {\n    try {\n      const response = await placeBet({\n        betting_line: betData.line,\n        stake: betData.base_stake,\n        sponsor: betData.sponsor,\n        multiplier: betData.multiplier\n      });\n      onBetPlaced({\n        bet_id: response.bet_id,\n        betting_line: betData.line,\n        stake: betData.base_stake,\n        sponsor: betData.sponsor,\n        multiplier: betData.multiplier,\n        potential_winnings: response.potential_winnings,\n        status: 'active',\n        created_at: new Date().toISOString()\n      });\n      setDetectionResults(prev => ({\n        ...prev,\n        message: response.message\n      }));\n    } catch (err) {\n      setError('Failed to place bet. Please try again.');\n    }\n  };\n  const handleBetResolved = async (betId, won) => {\n    try {\n      const response = await resolveBet(betId, won);\n      setDetectionResults(prev => ({\n        ...prev,\n        message: response.message\n      }));\n    } catch (err) {\n      setError('Failed to resolve bet. Please try again.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-full flex flex-col bg-black\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white bg-opacity-10 backdrop-blur-lg p-4 flex items-center justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => window.history.back(),\n          className: \"text-white hover:text-blue-200 transition-colors\",\n          children: \"\\u2190 Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-bold text-white\",\n          children: mode === 'serious' ? 'üéØ Serious Mode' : 'üé≤ Fun Mode'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 301,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setIsRealTimeDetection(!isRealTimeDetection),\n          className: `px-4 py-2 rounded-lg font-semibold transition-all ${isRealTimeDetection ? 'bg-green-500 hover:bg-green-600 text-white' : 'bg-gray-600 hover:bg-gray-700 text-white'}`,\n          children: isRealTimeDetection ? 'üü¢ Live Detection ON' : '‚ö™ Live Detection OFF'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleDetection,\n          disabled: isDetecting,\n          className: `px-6 py-2 rounded-lg font-semibold transition-all ${isDetecting ? 'bg-gray-500 cursor-not-allowed' : 'bg-blue-500 hover:bg-blue-600 text-white'}`,\n          children: isDetecting ? 'Detecting...' : 'Manual Detect'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 relative h-screen\",\n      children: [/*#__PURE__*/_jsxDEV(\"video\", {\n        ref: videoRef,\n        autoPlay: true,\n        playsInline: true,\n        muted: true,\n        className: \"w-full h-full object-cover\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: canvasRef,\n        className: \"absolute inset-0 w-full h-full object-cover pointer-events-none\",\n        style: {\n          zIndex: 5\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute inset-0 pointer-events-none\",\n        style: {\n          zIndex: 15\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute top-4 left-4 bg-black bg-opacity-70 rounded-lg p-3 max-w-xs\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-white text-sm\",\n            children: isRealTimeDetection ? /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-bold text-green-400 mb-1\",\n                children: \"\\uD83D\\uDFE2 Live Detection Active\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"Detecting objects with 80%+ confidence\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              children: mode === 'serious' ? 'Point camera at people to detect networking opportunities' : 'Point camera at objects to create betting lines'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 11\n        }, this), isRealTimeDetection && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute top-4 right-4 bg-black bg-opacity-70 rounded-lg p-3\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-white text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-bold text-blue-400\",\n              children: [\"Objects Detected: \", boundingBoxes.length]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 17\n            }, this), boundingBoxes.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs mt-1\",\n              children: boundingBoxes.map((box, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-green-300\",\n                children: [box.label, \" (\", (box.confidence * 100).toFixed(0), \"%)\"]\n              }, i, true, {\n                fileName: _jsxFileName,\n                lineNumber: 370,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 346,\n        columnNumber: 9\n      }, this), detectionResults && !isRealTimeDetection && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute bottom-0 left-0 right-0 bg-white bg-opacity-95 backdrop-blur-lg p-6 max-h-96 overflow-y-auto\",\n        style: {\n          zIndex: 20\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-lg font-bold text-gray-800\",\n            children: detectionResults.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 15\n          }, this), mode === 'serious' && detectionResults.quests && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold text-gray-700\",\n              children: \"Networking Quests:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 19\n            }, this), detectionResults.quests.map((quest, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-green-50 border border-green-200 rounded-lg p-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex justify-between items-start\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"font-medium text-gray-800 mb-2\",\n                    children: [\"Quest: \", quest.description]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 396,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm text-gray-600\",\n                    children: [\"Target: \", quest.target, \" \\u2022 Reward: \", quest.reward, \" tokens\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 399,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 395,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleQuestComplete(quest.id),\n                  className: \"ml-4 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors\",\n                  children: \"Complete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 403,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 394,\n                columnNumber: 23\n              }, this)\n            }, quest.id || index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 21\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 17\n          }, this), mode === 'fun' && detectionResults.betting_lines && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-semibold text-gray-700\",\n              children: [\"Detected Objects: \", (_detectionResults$obj = detectionResults.objects_detected) === null || _detectionResults$obj === void 0 ? void 0 : _detectionResults$obj.join(', ')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 19\n            }, this), detectionResults.sponsor_categories && detectionResults.sponsor_categories.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-blue-600 mb-2\",\n              children: [\"Sponsor Categories: \", detectionResults.sponsor_categories.join(', ')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 421,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              children: detectionResults.betting_lines.map((bet, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-yellow-50 border border-yellow-200 rounded-lg p-4\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex justify-between items-start\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"font-medium text-gray-800 mb-1\",\n                      children: bet.line\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 430,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-sm text-gray-600 mb-2\",\n                      children: [\"Odds: \", bet.odds, \" \\u2022 Stake: \", bet.base_stake, \" tokens\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 433,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-xs text-blue-600 mb-2\",\n                      children: [\"Sponsored by: \", bet.sponsor, \" \\u2022 Multiplier: \", bet.multiplier, \"x\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 436,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"text-xs text-green-600 font-semibold\",\n                      children: [\"Potential Win: \", bet.max_potential_win, \" tokens\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 439,\n                      columnNumber: 29\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 429,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => handleBetPlaced(bet),\n                    className: \"ml-4 bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors\",\n                    children: [\"Bet \", bet.base_stake, \" Tokens\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 443,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 428,\n                  columnNumber: 25\n                }, this)\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 427,\n                columnNumber: 23\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 425,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 384,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 11\n      }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-red-500 text-white p-4 rounded-lg max-w-md text-center\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 291,\n    columnNumber: 5\n  }, this);\n};\n_s(CameraView, \"uYExchp9YsJUgX2zBdXxCkz7flI=\");\n_c = CameraView;\nexport default CameraView;\nvar _c;\n$RefreshReg$(_c, \"CameraView\");","map":{"version":3,"names":["React","useRef","useState","useEffect","seriousModeDetection","funModeDetection","completeQuest","placeBet","resolveBet","jsxDEV","_jsxDEV","CameraView","mode","onQuestComplete","onBetPlaced","_s","_detectionResults$obj","videoRef","canvasRef","stream","setStream","isDetecting","setIsDetecting","detectionResults","setDetectionResults","error","setError","boundingBoxes","setBoundingBoxes","isRealTimeDetection","setIsRealTimeDetection","detectionInterval","setDetectionInterval","startCamera","getTracks","forEach","track","stop","clearInterval","video","current","handleLoadedMetadata","detections","setTimeout","drawBoundingBoxes","addEventListener","removeEventListener","interval","setInterval","performRealTimeDetection","mediaStream","navigator","mediaDevices","getUserMedia","width","ideal","height","facingMode","srcObject","err","console","capturePhoto","canvas","context","getContext","videoWidth","videoHeight","drawImage","Promise","resolve","toBlob","_response$detections","photoBlob","formData","FormData","append","response","highConfidenceDetections","filter","detection","confidence","length","clearBoundingBoxes","clearRect","index","x","y","label","scaleX","clientWidth","scaleY","clientHeight","scaledX","scaledY","scaledWidth","scaledHeight","strokeStyle","lineWidth","strokeRect","labelText","toFixed","textMetrics","measureText","textWidth","textHeight","fillStyle","fillRect","font","fillText","handleDetection","Error","message","handleQuestComplete","questId","prev","handleBetPlaced","betData","betting_line","line","stake","base_stake","sponsor","multiplier","bet_id","potential_winnings","status","created_at","Date","toISOString","handleBetResolved","betId","won","className","children","onClick","window","history","back","fileName","_jsxFileName","lineNumber","columnNumber","disabled","ref","autoPlay","playsInline","muted","style","zIndex","map","box","i","quests","quest","description","target","reward","id","betting_lines","objects_detected","join","sponsor_categories","bet","odds","max_potential_win","_c","$RefreshReg$"],"sources":["/Users/notjackl3/Desktop/HTN2025/frontend/src/components/CameraView.js"],"sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\nimport { seriousModeDetection, funModeDetection, completeQuest, placeBet, resolveBet } from '../services/api';\n\nconst CameraView = ({ mode, onQuestComplete, onBetPlaced }) => {\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const [stream, setStream] = useState(null);\n  const [isDetecting, setIsDetecting] = useState(false);\n  const [detectionResults, setDetectionResults] = useState(null);\n  const [error, setError] = useState(null);\n  const [boundingBoxes, setBoundingBoxes] = useState([]);\n  const [isRealTimeDetection, setIsRealTimeDetection] = useState(false);\n  const [detectionInterval, setDetectionInterval] = useState(null);\n\n  useEffect(() => {\n    startCamera();\n    return () => {\n      if (stream) {\n        stream.getTracks().forEach(track => track.stop());\n      }\n      if (detectionInterval) {\n        clearInterval(detectionInterval);\n      }\n    };\n  }, []);\n\n  // Redraw bounding boxes when video loads or resizes\n  useEffect(() => {\n    const video = videoRef.current;\n    if (video) {\n      const handleLoadedMetadata = () => {\n        if (detectionResults?.detections) {\n          setTimeout(() => drawBoundingBoxes(), 100);\n        }\n      };\n      \n      video.addEventListener('loadedmetadata', handleLoadedMetadata);\n      return () => video.removeEventListener('loadedmetadata', handleLoadedMetadata);\n    }\n  }, [detectionResults]);\n\n  // Real-time detection effect\n  useEffect(() => {\n    if (isRealTimeDetection && stream) {\n      const interval = setInterval(() => {\n        performRealTimeDetection();\n      }, 1000); // Detect every second\n      \n      setDetectionInterval(interval);\n      \n      return () => {\n        if (interval) {\n          clearInterval(interval);\n        }\n      };\n    } else if (detectionInterval) {\n      clearInterval(detectionInterval);\n      setDetectionInterval(null);\n    }\n  }, [isRealTimeDetection, stream]);\n\n  const startCamera = async () => {\n    try {\n      const mediaStream = await navigator.mediaDevices.getUserMedia({\n        video: { \n          width: { ideal: 1280 },\n          height: { ideal: 720 },\n          facingMode: 'user'\n        }\n      });\n      \n      setStream(mediaStream);\n      if (videoRef.current) {\n        videoRef.current.srcObject = mediaStream;\n        // Auto-start real-time detection after camera loads\n        setTimeout(() => {\n          setIsRealTimeDetection(true);\n        }, 2000);\n      }\n    } catch (err) {\n      setError('Camera access denied. Please allow camera access to use this feature.');\n      console.error('Camera error:', err);\n    }\n  };\n\n  const capturePhoto = () => {\n    if (!videoRef.current || !canvasRef.current) return null;\n\n    const video = videoRef.current;\n    const canvas = canvasRef.current;\n    const context = canvas.getContext('2d');\n\n    canvas.width = video.videoWidth;\n    canvas.height = video.videoHeight;\n    context.drawImage(video, 0, 0);\n\n    return new Promise((resolve) => {\n      canvas.toBlob(resolve, 'image/jpeg', 0.8);\n    });\n  };\n\n  const performRealTimeDetection = async () => {\n    if (!videoRef.current || isDetecting) return;\n\n    try {\n      const photoBlob = await capturePhoto();\n      if (!photoBlob) return;\n\n      const formData = new FormData();\n      formData.append('file', photoBlob, 'photo.jpg');\n\n      let response;\n      if (mode === 'serious') {\n        response = await seriousModeDetection(formData);\n      } else {\n        response = await funModeDetection(formData);\n      }\n\n      // Filter detections with 80%+ confidence\n      const highConfidenceDetections = response.detections?.filter(\n        detection => detection.confidence >= 0.8\n      ) || [];\n\n      if (highConfidenceDetections.length > 0) {\n        setBoundingBoxes(highConfidenceDetections);\n        setTimeout(() => drawBoundingBoxes(), 50);\n      } else {\n        // Clear boxes if no high confidence detections\n        setBoundingBoxes([]);\n        clearBoundingBoxes();\n      }\n    } catch (err) {\n      console.error('Real-time detection error:', err);\n    }\n  };\n\n  const clearBoundingBoxes = () => {\n    if (!canvasRef.current) return;\n    \n    const canvas = canvasRef.current;\n    const context = canvas.getContext('2d');\n    context.clearRect(0, 0, canvas.width, canvas.height);\n  };\n\n  const drawBoundingBoxes = () => {\n    if (!videoRef.current || !boundingBoxes.length) return;\n\n    const video = videoRef.current;\n    const canvas = canvasRef.current;\n    const context = canvas.getContext('2d');\n\n    // Set canvas size to match video\n    canvas.width = video.videoWidth;\n    canvas.height = video.videoHeight;\n\n    // Clear previous drawings\n    context.clearRect(0, 0, canvas.width, canvas.height);\n\n    // Draw bounding boxes\n    boundingBoxes.forEach((detection, index) => {\n      const { x, y, width, height, label, confidence } = detection;\n      \n      // Calculate scale factors\n      const scaleX = video.videoWidth / video.clientWidth;\n      const scaleY = video.videoHeight / video.clientHeight;\n      \n      const scaledX = x * scaleX;\n      const scaledY = y * scaleY;\n      const scaledWidth = width * scaleX;\n      const scaledHeight = height * scaleY;\n\n      // Draw rectangle with thicker border\n      context.strokeStyle = `hsl(${(index * 137.5) % 360}, 80%, 60%)`;\n      context.lineWidth = 4;\n      context.strokeRect(scaledX, scaledY, scaledWidth, scaledHeight);\n\n      // Draw label background with better contrast\n      const labelText = `${label}: ${(confidence * 100).toFixed(0)}%`;\n      const textMetrics = context.measureText(labelText);\n      const textWidth = textMetrics.width;\n      const textHeight = 24;\n\n      // Background with border\n      context.fillStyle = `hsl(${(index * 137.5) % 360}, 80%, 20%)`;\n      context.fillRect(scaledX, scaledY - textHeight - 2, textWidth + 12, textHeight + 4);\n      \n      // Border\n      context.strokeStyle = `hsl(${(index * 137.5) % 360}, 80%, 60%)`;\n      context.lineWidth = 2;\n      context.strokeRect(scaledX, scaledY - textHeight - 2, textWidth + 12, textHeight + 4);\n\n      // Draw label text\n      context.fillStyle = 'white';\n      context.font = 'bold 16px Arial';\n      context.fillText(labelText, scaledX + 6, scaledY - 6);\n    });\n  };\n\n  const handleDetection = async () => {\n    if (isDetecting) return;\n\n    setIsDetecting(true);\n    setError(null);\n\n    try {\n      const photoBlob = await capturePhoto();\n      if (!photoBlob) {\n        throw new Error('Failed to capture photo');\n      }\n\n      const formData = new FormData();\n      formData.append('file', photoBlob, 'photo.jpg');\n\n      let response;\n      if (mode === 'serious') {\n        response = await seriousModeDetection(formData);\n      } else {\n        response = await funModeDetection(formData);\n      }\n\n      setDetectionResults(response);\n      \n      // Draw bounding boxes if detections exist\n      if (response.detections && response.detections.length > 0) {\n        setBoundingBoxes(response.detections);\n        setTimeout(() => drawBoundingBoxes(), 100);\n      }\n    } catch (err) {\n      setError(err.message || 'Detection failed. Please try again.');\n      console.error('Detection error:', err);\n    } finally {\n      setIsDetecting(false);\n    }\n  };\n\n  const handleQuestComplete = async (questId) => {\n    try {\n      const response = await completeQuest(questId);\n      onQuestComplete(questId);\n      setDetectionResults(prev => ({\n        ...prev,\n        message: response.message\n      }));\n    } catch (err) {\n      setError('Failed to complete quest. Please try again.');\n    }\n  };\n\n  const handleBetPlaced = async (betData) => {\n    try {\n      const response = await placeBet({\n        betting_line: betData.line,\n        stake: betData.base_stake,\n        sponsor: betData.sponsor,\n        multiplier: betData.multiplier\n      });\n      \n      onBetPlaced({\n        bet_id: response.bet_id,\n        betting_line: betData.line,\n        stake: betData.base_stake,\n        sponsor: betData.sponsor,\n        multiplier: betData.multiplier,\n        potential_winnings: response.potential_winnings,\n        status: 'active',\n        created_at: new Date().toISOString()\n      });\n      \n      setDetectionResults(prev => ({\n        ...prev,\n        message: response.message\n      }));\n    } catch (err) {\n      setError('Failed to place bet. Please try again.');\n    }\n  };\n\n  const handleBetResolved = async (betId, won) => {\n    try {\n      const response = await resolveBet(betId, won);\n      setDetectionResults(prev => ({\n        ...prev,\n        message: response.message\n      }));\n    } catch (err) {\n      setError('Failed to resolve bet. Please try again.');\n    }\n  };\n\n  return (\n    <div className=\"h-full flex flex-col bg-black\">\n      {/* Header */}\n      <div className=\"bg-white bg-opacity-10 backdrop-blur-lg p-4 flex items-center justify-between\">\n        <div className=\"flex items-center space-x-4\">\n          <button\n            onClick={() => window.history.back()}\n            className=\"text-white hover:text-blue-200 transition-colors\"\n          >\n            ‚Üê Back\n          </button>\n          <h2 className=\"text-xl font-bold text-white\">\n            {mode === 'serious' ? 'üéØ Serious Mode' : 'üé≤ Fun Mode'}\n          </h2>\n        </div>\n        <div className=\"flex items-center space-x-3\">\n          <button\n            onClick={() => setIsRealTimeDetection(!isRealTimeDetection)}\n            className={`px-4 py-2 rounded-lg font-semibold transition-all ${\n              isRealTimeDetection\n                ? 'bg-green-500 hover:bg-green-600 text-white'\n                : 'bg-gray-600 hover:bg-gray-700 text-white'\n            }`}\n          >\n            {isRealTimeDetection ? 'üü¢ Live Detection ON' : '‚ö™ Live Detection OFF'}\n          </button>\n          <button\n            onClick={handleDetection}\n            disabled={isDetecting}\n            className={`px-6 py-2 rounded-lg font-semibold transition-all ${\n              isDetecting\n                ? 'bg-gray-500 cursor-not-allowed'\n                : 'bg-blue-500 hover:bg-blue-600 text-white'\n            }`}\n          >\n            {isDetecting ? 'Detecting...' : 'Manual Detect'}\n          </button>\n        </div>\n      </div>\n\n      {/* Camera View - Full Screen */}\n      <div className=\"flex-1 relative h-screen\">\n        <video\n          ref={videoRef}\n          autoPlay\n          playsInline\n          muted\n          className=\"w-full h-full object-cover\"\n        />\n        <canvas\n          ref={canvasRef}\n          className=\"absolute inset-0 w-full h-full object-cover pointer-events-none\"\n          style={{ zIndex: 5 }}\n        />\n        \n        {/* Status Overlay - Positioned to not interfere with detection boxes */}\n        <div className=\"absolute inset-0 pointer-events-none\" style={{ zIndex: 15 }}>\n          <div className=\"absolute top-4 left-4 bg-black bg-opacity-70 rounded-lg p-3 max-w-xs\">\n            <div className=\"text-white text-sm\">\n              {isRealTimeDetection ? (\n                <div>\n                  <div className=\"font-bold text-green-400 mb-1\">üü¢ Live Detection Active</div>\n                  <div>Detecting objects with 80%+ confidence</div>\n                </div>\n              ) : (\n                <div>\n                  {mode === 'serious' ? 'Point camera at people to detect networking opportunities' : 'Point camera at objects to create betting lines'}\n                </div>\n              )}\n            </div>\n          </div>\n          \n          {/* Detection Status */}\n          {isRealTimeDetection && (\n            <div className=\"absolute top-4 right-4 bg-black bg-opacity-70 rounded-lg p-3\">\n              <div className=\"text-white text-sm\">\n                <div className=\"font-bold text-blue-400\">Objects Detected: {boundingBoxes.length}</div>\n                {boundingBoxes.length > 0 && (\n                  <div className=\"text-xs mt-1\">\n                    {boundingBoxes.map((box, i) => (\n                      <div key={i} className=\"text-green-300\">\n                        {box.label} ({(box.confidence * 100).toFixed(0)}%)\n                      </div>\n                    ))}\n                  </div>\n                )}\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Detection Results - Only show when not in real-time mode */}\n        {detectionResults && !isRealTimeDetection && (\n          <div className=\"absolute bottom-0 left-0 right-0 bg-white bg-opacity-95 backdrop-blur-lg p-6 max-h-96 overflow-y-auto\" style={{ zIndex: 20 }}>\n            <div className=\"space-y-4\">\n              <div className=\"text-lg font-bold text-gray-800\">\n                {detectionResults.message}\n              </div>\n\n              {mode === 'serious' && detectionResults.quests && (\n                <div className=\"space-y-3\">\n                  <h3 className=\"font-semibold text-gray-700\">Networking Quests:</h3>\n                  {detectionResults.quests.map((quest, index) => (\n                    <div key={quest.id || index} className=\"bg-green-50 border border-green-200 rounded-lg p-4\">\n                      <div className=\"flex justify-between items-start\">\n                        <div className=\"flex-1\">\n                          <div className=\"font-medium text-gray-800 mb-2\">\n                            Quest: {quest.description}\n                          </div>\n                          <div className=\"text-sm text-gray-600\">\n                            Target: {quest.target} ‚Ä¢ Reward: {quest.reward} tokens\n                          </div>\n                        </div>\n                        <button\n                          onClick={() => handleQuestComplete(quest.id)}\n                          className=\"ml-4 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors\"\n                        >\n                          Complete\n                        </button>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              )}\n\n              {mode === 'fun' && detectionResults.betting_lines && (\n                <div className=\"space-y-3\">\n                  <h3 className=\"font-semibold text-gray-700\">\n                    Detected Objects: {detectionResults.objects_detected?.join(', ')}\n                  </h3>\n                  {detectionResults.sponsor_categories && detectionResults.sponsor_categories.length > 0 && (\n                    <div className=\"text-sm text-blue-600 mb-2\">\n                      Sponsor Categories: {detectionResults.sponsor_categories.join(', ')}\n                    </div>\n                  )}\n                  <div className=\"space-y-2\">\n                    {detectionResults.betting_lines.map((bet, index) => (\n                      <div key={index} className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\n                        <div className=\"flex justify-between items-start\">\n                          <div className=\"flex-1\">\n                            <div className=\"font-medium text-gray-800 mb-1\">\n                              {bet.line}\n                            </div>\n                            <div className=\"text-sm text-gray-600 mb-2\">\n                              Odds: {bet.odds} ‚Ä¢ Stake: {bet.base_stake} tokens\n                            </div>\n                            <div className=\"text-xs text-blue-600 mb-2\">\n                              Sponsored by: {bet.sponsor} ‚Ä¢ Multiplier: {bet.multiplier}x\n                            </div>\n                            <div className=\"text-xs text-green-600 font-semibold\">\n                              Potential Win: {bet.max_potential_win} tokens\n                            </div>\n                          </div>\n                          <button\n                            onClick={() => handleBetPlaced(bet)}\n                            className=\"ml-4 bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors\"\n                          >\n                            Bet {bet.base_stake} Tokens\n                          </button>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n\n        {/* Error Message */}\n        {error && (\n          <div className=\"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-red-500 text-white p-4 rounded-lg max-w-md text-center\">\n            {error}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default CameraView;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}